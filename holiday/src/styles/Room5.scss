.room5 {
    position: relative;
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    width: 100vw;
    height: 100vh;
    color: #e9edf7;
    overflow: hidden !important;


    .scene {
        position: relative;
        width: min(1200px, 96vw);
        aspect-ratio: 16 / 9;
        margin: 0 auto;
    }
    /* -----------------------------
     Hint Nodes + Cards
     ----------------------------- */
    .hint-node {
        position: absolute;
        width: clamp(18px, 2.2vw, 28px);
        aspect-ratio: 1;
        border-radius: 50%;
        border: 1px solid rgba(255,255,255,0.25);
        background: radial-gradient(circle, rgba(255,255,255,0.85), rgba(255,255,255,0.1));
        box-shadow: 0 0 12px rgba(255,255,255,0.35);
        cursor: pointer;
        transition: transform .15s ease, box-shadow .2s ease;

        &:hover {
            transform: translateY(-1px) scale(1.02);
        }

        &.active {
            box-shadow: 0 0 18px rgba(255,255,255,0.6);
        }
    }
    /* Position your hint nodes (tweak freely) */
    .hint1 {
        top: 16%;
        left: 22%;
        opacity: 0.5;
    }

    .hint2 {
        top: 34%;
        left: 68%;
        opacity: 0.5;
    }

    .hint3 {
        top: 86%;
        left: 78%;
        opacity: 0.4;
    }

    .hint-card {
        position: absolute;
        max-width: 320px;
        padding: 10px 12px;
        font-size: clamp(12px, 1.4vw, 15px);
        line-height: 1.35;
        background: rgba(10,13,20,0.78);
        border: 1px solid rgba(255,255,255,0.09);
        border-radius: 10px;
        backdrop-filter: blur(3px);
        box-shadow: 0 8px 28px rgba(0,0,0,0.45);
        pointer-events: none; /* text only; toggle via node */
    }

    .hint1-card {
        top: 19%;
        left: 25%;
    }

    .hint2-card {
        top: 37%;
        left: 58%;
    }

    .hint3-card {
        top: 66%;
        left: 23%;
    }
    /* -----------------------------
     Decorative Clues you can move
     ----------------------------- */
    .scrambled {
        position: absolute;
        width: clamp(90px, 14vw, 180px);
        filter: drop-shadow(0 6px 18px rgba(0,0,0,0.5));
        pointer-events: none; /* purely decorative */
    }

    .s1 {
        top: 15%;
        left: 10%;
        width: 130px;
    }

    .s2 {
        top: 10%;
        left: 51%;
        width: 150px;
    }

    .s3 {
        top: 71%;
        left: 29%;
        width: 115px;
    }

    .s4 {
        top: 60%;
        left: 88%;
        width: 120px;
    }

    .ui {
        position: absolute;
        width: clamp(140px, 18vw, 260px);
        opacity: 0.85;
        pointer-events: none;
    }

    .input-box {
        top: 74%;
        left: 38%;
    }

    .sing-btn {
        top: 74%;
        left: 58%;
    }
    /* -----------------------------
     Start Puzzle Node (Snow Globe)
     ----------------------------- */
    .start-puzzle {
        position: absolute;
        top: 76%;
        left: 4%;
        transform: translate(-50%, -50%);
        background: none;
        border: 0;
        padding: 0;
        cursor: pointer;
        text-align: center;

        .snow-globe {
            width: 80px;
            filter: drop-shadow(0 14px 40px rgba(120,200,255,0.35));
            opacity: 0.7;
            transition: transform .18s ease;
        }

        .cta {
            display: block;
            margin-top: 6px;
            font-size: clamp(12px, 1.6vw, 16px);
            color: #cfe7ff;
            text-shadow: 0 1px 2px rgba(0,0,0,0.6);
            opacity: 0.9;
        }

        &:hover .snow-globe {
            transform: translateY(-2px) scale(1.02);
        }
    }
    /* -----------------------------
     Victory FX
     ----------------------------- */
    .fx.spirit-burst {
        position: absolute;
        top: 32%;
        left: 39%;
        width: clamp(220px, 36vw, 520px);
        pointer-events: none;
        animation: r5-burst 1.1s ease-out both;
        filter: drop-shadow(0 16px 60px rgba(120,255,200,0.35));
    }

    @keyframes r5-burst {
        0% {
            opacity: 0;
            transform: scale(0.7);
        }

        50% {
            opacity: 1;
            transform: scale(1.05);
        }

        100% {
            opacity: 1;
            transform: scale(1);
        }
    }

    .congrats-btn {
        position: absolute;
        top: 8%;
        left: 50%;
        transform: translateX(-50%);
        background: none;
        border: 0;
        cursor: pointer;
        text-align: center;

        .congrats-banner {
            width: clamp(220px, 40vw, 680px);
            filter: drop-shadow(0 16px 60px rgba(255,255,255,0.25));
        }

        .proceed {
            margin-top: 8px;
            display: inline-block;
            padding: 6px 12px;
            border-radius: 10px;
            font-size: clamp(12px, 1.4vw, 15px);
            color: #0a0f16;
            background: linear-gradient(180deg, #f8f9fc, #dfe5f4);
            border: 1px solid rgba(255,255,255,0.7);
            box-shadow: 0 6px 22px rgba(0,0,0,0.35);
        }

        &:hover .proceed {
            transform: translateY(-1px);
        }
    }
}

/* ---------------------------------
   Modal puzzle styling
   --------------------------------- */
.r5p-backdrop {
    position: fixed;
    inset: 0;
    background: radial-gradient(ellipse at center, rgba(0,0,0,0.65), rgba(0,0,0,0.85));
    display: grid;
    place-items: center;
    z-index: 1000;
}

.r5p-panel {
    width: min(92vw, 720px);
    background: linear-gradient(180deg, #0e1218, #0b0f14);
    border: 1px solid rgba(255,255,255,0.08);
    border-radius: 14px;
    box-shadow: 0 24px 80px rgba(0,0,0,0.6);
    padding: clamp(16px, 3vw, 24px);
    position: relative;
    color: #e9edf7;
}

.r5p-close {
    position: absolute;
    top: 10px;
    right: 12px;
    width: 34px;
    height: 34px;
    border-radius: 10px;
    border: 1px solid rgba(255,255,255,0.1);
    background: rgba(255,255,255,0.06);
    color: #fff;
    font-size: 20px;
    line-height: 1;
    cursor: pointer;
}

.r5p-title {
    margin: 0 0 6px 0;
    font-size: clamp(18px, 2.2vw, 24px);
}

.r5p-sub {
    margin: 0 0 16px 0;
    opacity: 0.9;
    font-size: clamp(13px, 1.6vw, 15px);
}

.r5p-form {
    display: grid;
    grid-template-columns: 1fr auto;
    gap: 10px;
    align-items: center;

    &.error {
        animation: r5-shake .35s ease;
    }
}

@keyframes r5-shake {
    0% {
        transform: translateX(0);
    }

    25% {
        transform: translateX(-6px);
    }

    50% {
        transform: translateX(6px);
    }

    75% {
        transform: translateX(-4px);
    }

    100% {
        transform: translateX(0);
    }
}

.r5p-input {
    width: 100%;
    padding: 12px 14px;
    border-radius: 10px;
    border: 1px solid rgba(255,255,255,0.12);
    background: rgba(255,255,255,0.06);
    color: #fff;
    font-size: clamp(14px, 1.8vw, 16px);
    outline: none;

    &::placeholder {
        color: rgba(255,255,255,0.55);
    }
}

.r5p-submit {
    padding: 10px 16px;
    border-radius: 10px;
    border: 1px solid rgba(255,255,255,0.12);
    background: linear-gradient(180deg, #1a2330, #111723);
    color: #e9edf7;
    cursor: pointer;
}

.r5p-hint {
    margin-top: 12px;
    font-size: clamp(12px, 1.4vw, 14px);
    opacity: 0.8;
}
